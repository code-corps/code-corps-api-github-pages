    <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.15.0">
    <title>CodeCorps.GitHub.Event.Issues – code_corps v0.0.1</title>
    <link rel="stylesheet" href="dist/app-091c05798a.css" />
    
    <script src="dist/sidebar_items-f0fb7e43bf.js"></script>
  </head>
  <body data-type="modules">
    <script>if(localStorage.getItem('night-mode')) document.body.className += ' night-mode';</script>

    <div class="main">
<button class="sidebar-toggle">
  <i class="icon-menu"></i>
</button>
<section class="sidebar">

  
  <a href="README.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        code_corps
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.0.1
      </h2>
    </div>
    
  </a>

  <div class="sidebar-search">
    <i class="icon-search"></i>
    <input type="text" class="sidebar-searchInput" placeholder="search" autocomplete="off" />
  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">code_corps v0.0.1</small>
        CodeCorps.GitHub.Event.Issues
        
        
          <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps/github/event/issues.ex#L1" title="View Source" class="view-source" rel="help">
            <i class="icon-code"></i>
          </a>
        
      </h1>

      
        <section id="moduledoc">
          <p>In charge of dealing with “Issues” GitHub Webhook events</p>
<p>https://developer.github.com/v3/activity/events/types/#issuesevent</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <i class="icon-link"></i>
            </a>
            Summary
          </h1>
          

          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#handle/2">handle(github_event, payload)</a>
  </div>
  
    <div class="summary-synopsis"><p>Handles the “Issues” GitHub webhook</p>
</div>
  
</div>

  </div>


          

        </section>
      

      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <i class="icon-link"></i>
            </a>
            Functions
          </h1>
          <div class="detail" id="handle/2">
  
  <div class="detail-header">
    <a href="#handle/2" class="detail-link" title="Link to this function">
      <i class="icon-link"></i>
    </a>
    <span class="signature">handle(github_event, payload)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps/github/event/issues.ex#L53" class="view-source" rel="help" title="View Source">
       <i class="icon-code"></i>
     </a>
    
    
    
      <div class="specs">
        
          <pre>handle(<a href="CodeCorps.GithubEvent.html#t:t/0">CodeCorps.GithubEvent.t</a>, map) :: outcome</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Handles the “Issues” GitHub webhook</p>
<p>The process is as follows</p>
<ul>
<li>validate the payload is structured as expected
</li>
<li>try and find the appropriate <code class="inline">GithubRepo</code> record.
</li>
<li><p>for each <code class="inline">ProjectGithubRepo</code> belonging to that <code class="inline">Project</code></p>
<ul>
<li>find or initialize a new <a href="https://hexdocs.pm/elixir/Task.html"><code class="inline">Task</code></a>
</li>
<li>try and find a <code class="inline">User</code>, associate <a href="https://hexdocs.pm/elixir/Task.html"><code class="inline">Task</code></a> with user
</li>
<li>commit the change as an insert or update action
</li>
</ul>
</li>
</ul>
<p>Depending on the success of the process, the function will return one of</p>
<ul>
<li><code class="inline">{:ok, list_of_tasks}</code>
</li>
<li><code class="inline">{:error, :not_fully_implemented}</code> - while we’re aware of this action, we have not implemented support for it yet
</li>
<li><code class="inline">{:error, :unexpected_payload}</code> - the payload was not as expected
</li>
<li><code class="inline">{:error, :unexpected_action}</code> - the action was not of type we are aware of
</li>
<li><code class="inline">{:error, :unmatched_repository}</code> - the repository for this issue was not found
</li>
</ul>
<p>Note that it is also possible to have a matched GithubRepo, but with that
record not having any ProjectGithubRepo children. The outcome of that case
should NOT be an errored event, since it simply means that the GithubRepo
was not linked to a Project by the Project owner. This is allowed and
relatively common.</p>

  </section>
</div>

        </section>
      

      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.15.0),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle" />
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-372682077e.js"></script>
  </body>
</html>

