    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.16.3">
    <title>CodeCorpsWeb.OrganizationInviteController – code_corps v0.0.1</title>
    <link rel="stylesheet" href="dist/app-091c05798a.css" />
    
    <script src="dist/sidebar_items-dc60b892b0.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

    <div class="main">
<button class="sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<section class="sidebar">

  
  <a href="README.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        code_corps
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.0.1
      </h2>
    </div>
    
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    
      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>
    

    

    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">code_corps v0.0.1</small>
        CodeCorpsWeb.OrganizationInviteController
        
          <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
        
      </h1>

      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
          

          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#filter/4">filter(conn, query, arg3, id_list)</a>
  </div>
  
    <div class="summary-synopsis"><p>Callback executed for each <code class="inline">filter</code> param</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_create/2">handle_create(conn, attributes)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns an unpersisted changeset or persisted model of the newly created object</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_delete/2">handle_delete(conn, model)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns an unpersisted changeset or persisted model representing the newly updated model</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_index/2">handle_index(conn, params)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the models to be represented by this resource</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_index_query/2">handle_index_query(conn, query)</a>
  </div>
  
    <div class="summary-synopsis"><p>Callback executed to query repo</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_invalid_create/2">handle_invalid_create(conn, errors)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to errors during create</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_invalid_update/2">handle_invalid_update(conn, errors)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to errors during update</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_show/2">handle_show(conn, id)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the model to be represented by this resource</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#handle_update/3">handle_update(conn, model, attributes)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns an unpersisted changeset or persisted model representing the newly updated model</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#model/0">model()</a>
  </div>
  
    <div class="summary-synopsis"><p>Must return the module implementing <a href="https://hexdocs.pm/ecto/2.2.2/Ecto.Schema.html"><code class="inline">Ecto.Schema</code></a> to be represented</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#permitted_attributes/3">permitted_attributes(conn, attrs, _)</a>
  </div>
  
    <div class="summary-synopsis"><p>Used to determine which attributes are permitted during create and update</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#record/2">record(conn, id)</a>
  </div>
  
    <div class="summary-synopsis"><p>Used to get the subject of the current action</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#records/1">records(conn)</a>
  </div>
  
    <div class="summary-synopsis"><p>Used to get the base query of records</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#render_create/2">render_create(conn, model)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to successful create</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#render_update/2">render_update(conn, model)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to successful update</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#repo/0">repo()</a>
  </div>
  
    <div class="summary-synopsis"><p>Defines the module <code class="inline">use</code>-ing <a href="https://hexdocs.pm/ecto/2.2.2/Ecto.Repo.html"><code class="inline">Ecto.Repo</code></a> to be used by the controller</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#serialization_opts/3">serialization_opts(conn, arg2, model_or_models)</a>
  </div>
  
    <div class="summary-synopsis"><p>Converts full list of params into serialization opts</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#sort/4">sort(conn, results, key, dir)</a>
  </div>
  
    <div class="summary-synopsis"><p>Callback executed for each value in the sort param</p>
</div>
  
</div>

  </div>


          

        </section>
      

      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Functions
          </h1>
          <div class="detail" id="filter/4">
  
  
  <div class="detail-header">
    <a href="#filter/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">filter(conn, query, arg3, id_list)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L1" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Callback executed for each <code class="inline">filter</code> param.</p>
<p>For example, if you wanted to optionally filter on an Article’s category and
issue, your request url might look like:</p>
<pre><code class="elixir">/api/articles?filter[category]=elixir&amp;filter[issue]=12</code></pre>
<p>You would then want two callbacks:</p>
<pre><code class="elixir">def filter(_conn, query, &quot;category&quot;, category) do
  where(query, category: category)
end

def filter(_conn, query, &quot;issue&quot;, issue_id) do
  where(query, issue_id: issue_id)
end</code></pre>
<p>You can also use guards to whitelist a handeful of attributes:</p>
<pre><code class="elixir">@filterable_attrs ~w(title category author_id issue_id)
def filter(_conn, query, attr, val) when attr in @filterable_attrs do
  where(query, [{String.to_existing_atom(attr), val}])
end</code></pre>
<p>Anything not explicitly matched by your callbacks will be ignored.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Index.html#c:filter/4"><code class="inline">JaResource.Index.filter/4</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_create/2">
  
  
  <div class="detail-header">
    <a href="#handle_create/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_create(conn, attributes)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L19" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns an unpersisted changeset or persisted model of the newly created object.</p>
<p>Default implementation returns the results of calling
<code class="inline">Model.changeset(%Model{}, attrs)</code> where Model is the model defined by the
<a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Model.html#model/0"><code class="inline">JaResource.Model.model/0</code></a> callback.</p>
<p>The attributes argument is the result of the <code class="inline">permitted_attributes</code> function.</p>
<p><a href="#handle_create/2"><code class="inline">handle_create/2</code></a> can return an %Ecto.Changeset, an Ecto.Schema struct,
a list of errors (<code class="inline">{:error, [email: &quot;is not valid&quot;]}</code> or a conn with
any response/body.</p>
<p>Example custom implementation:</p>
<pre><code class="elixir">def handle_create(_conn, attributes) do
  Post.changeset(%Post{}, attributes, :create_and_publish)
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Create.html#c:handle_create/2"><code class="inline">JaResource.Create.handle_create/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_delete/2">
  
  
  <div class="detail-header">
    <a href="#handle_delete/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_delete(conn, model)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns an unpersisted changeset or persisted model representing the newly updated model.</p>
<p>Receives the conn and the record as found by <a href="#record/2"><code class="inline">record/2</code></a>.</p>
<p>Default implementation returns the results of calling <code class="inline">Repo.delete(record)</code>.</p>
<p>Example custom implementation:</p>
<pre><code class="elixir">def handle_delete(conn, record) do
  case conn.assigns[:user] do
    %{is_admin: true} -&gt; super(conn, record)
    _                 -&gt; send_resp(conn, 401, &quot;nope&quot;)
  end
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Delete.html#c:handle_delete/2"><code class="inline">JaResource.Delete.handle_delete/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_index/2">
  
  
  <div class="detail-header">
    <a href="#handle_index/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_index(conn, params)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns the models to be represented by this resource.</p>
<p>Default implementation is the result of the JaResource.Records.records/2
callback. Usually a module or an <code class="inline">%Ecto.Query{}</code>.</p>
<p>The results of this callback are passed to the filter and sort callbacks before the query is executed.</p>
<p><a href="#handle_index/2"><code class="inline">handle_index/2</code></a> can alternatively return a conn with any response/body.</p>
<p>Example custom implementation:</p>
<pre><code class="elixir">def handle_index(conn, _params) do
  case conn.assigns[:user] do
    nil  -&gt; App.Post
    user -&gt; User.own_posts(user)
  end
end</code></pre>
<p>In most cases JaResource.Records.records/1, filter/4, and sort/4 are the
better customization hooks.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Index.html#c:handle_index/2"><code class="inline">JaResource.Index.handle_index/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_index_query/2">
  
  
  <div class="detail-header">
    <a href="#handle_index_query/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_index_query(conn, query)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Callback executed to query repo.</p>
<p>By default this just calls <code class="inline">all/2</code> on the repo. Can be customized for
pagination, monitoring, etc. For example to paginate with Scrivener:</p>
<pre><code class="elixir">def handle_index_query(%{query_params: qp}, query) do
  repo().paginate(query, qp[&quot;page&quot;] || %{})
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Index.html#c:handle_index_query/2"><code class="inline">JaResource.Index.handle_index_query/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_invalid_create/2">
  
  
  <div class="detail-header">
    <a href="#handle_invalid_create/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_invalid_create(conn, errors)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to errors during create.</p>
<p>Default implementation sets the status to <code class="inline">:unprocessable_entity</code> and renders
the error messages provided.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Create.html#c:handle_invalid_create/2"><code class="inline">JaResource.Create.handle_invalid_create/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_invalid_update/2">
  
  
  <div class="detail-header">
    <a href="#handle_invalid_update/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_invalid_update(conn, errors)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to errors during update.</p>
<p>Default implementation sets the status to <code class="inline">:unprocessable_entity</code> and renders
the error messages provided.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Update.html#c:handle_invalid_update/2"><code class="inline">JaResource.Update.handle_invalid_update/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_show/2">
  
  
  <div class="detail-header">
    <a href="#handle_show/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_show(conn, id)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns the model to be represented by this resource.</p>
<p>Default implementation is the result of the JaResource.Record.record/2
callback.</p>
<p><a href="#handle_show/2"><code class="inline">handle_show/2</code></a> can return nil to send a 404, a conn with any response/body,
or a record to be serialized.</p>
<p>Example custom implementation:</p>
<pre><code class="elixir">def handle_show(conn, id) do
  Repo.get_by(Post, slug: id)
end</code></pre>
<p>In most cases JaResource.Record.record/2 and JaResource.Records.records/1 are
the better customization hooks.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Show.html#c:handle_show/2"><code class="inline">JaResource.Show.handle_show/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="handle_update/3">
  
  
  <div class="detail-header">
    <a href="#handle_update/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">handle_update(conn, model, attributes)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns an unpersisted changeset or persisted model representing the newly updated model.</p>
<p>Receives the conn, the model as found by <a href="#record/2"><code class="inline">record/2</code></a>, and the attributes
argument from the <code class="inline">permitted_attributes</code> function.</p>
<p>Default implementation returns the results of calling
<code class="inline">Model.changeset(model, attrs)</code>.</p>
<p><a href="#handle_update/3"><code class="inline">handle_update/3</code></a> can return an %Ecto.Changeset, an Ecto.Schema struct,
a list of errors (<code class="inline">{:error, [email: &quot;is not valid&quot;]}</code> or a conn with
any response/body.</p>
<p>Example custom implementation:</p>
<pre><code class="elixir">def handle_update(conn, post, attributes) do
  current_user_id = conn.assigns[:current_user].id
  case post.author_id do
    ^current_user_id -&gt; {:error, author_id: &quot;you can only edit your own posts&quot;}
    _                -&gt; Post.changeset(post, attributes, :update)
  end
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Update.html#c:handle_update/3"><code class="inline">JaResource.Update.handle_update/3</code></a>.</p>

  </section>
</div>
<div class="detail" id="model/0">
  
  
  <div class="detail-header">
    <a href="#model/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">model()</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L13" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>model() :: module</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Must return the module implementing <a href="https://hexdocs.pm/ecto/2.2.2/Ecto.Schema.html"><code class="inline">Ecto.Schema</code></a> to be represented.</p>
<p>Example:</p>
<pre><code class="elixir">def model, do: MyApp.Models.Post</code></pre>
<p>Defaults to the name of the controller, for example the controller
<code class="inline">MyApp.V1.PostController</code> would serve the <code class="inline">MyApp.Post</code> model.</p>
<p>Used by the default implementations for <a href="#handle_create/2"><code class="inline">handle_create/2</code></a>, <a href="#handle_update/3"><code class="inline">handle_update/3</code></a>,
and <a href="#records/1"><code class="inline">records/1</code></a>.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Model.html#c:model/0"><code class="inline">JaResource.Model.model/0</code></a>.</p>

  </section>
</div>
<div class="detail" id="permitted_attributes/3">
  
  
  <div class="detail-header">
    <a href="#permitted_attributes/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">permitted_attributes(conn, attrs, _)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Used to determine which attributes are permitted during create and update.</p>
<p>The attributes map (the second argument) is a “flattened” version including
the values at <code class="inline">data/attributes</code>, <code class="inline">data/type</code> and any relationship values in
<code class="inline">data/relationships/[name]/data/id</code> as <code class="inline">name_id</code>.</p>
<p>The third argument is the atom of the action being called.</p>
<p>Example:</p>
<pre><code class="elixir">defmodule MyApp.V1.PostController do
  use MyApp.Web, :controller
  use JaResource

  def permitted_attributes(conn, attrs, :create) do
    attrs
    |&gt; Map.take(~w(title body type category_id))
    |&gt; Map.merge(&quot;author_id&quot;, conn.assigns[:current_user])
  end

  def permitted_attributes(_conn, attrs, :update) do
    Map.take(attrs, ~w(title body type category_id))
  end
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Attributes.html#c:permitted_attributes/3"><code class="inline">JaResource.Attributes.permitted_attributes/3</code></a>.</p>

  </section>
</div>
<div class="detail" id="record/2">
  
  
  <div class="detail-header">
    <a href="#record/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">record(conn, id)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Used to get the subject of the current action</p>
<p>Many/most controllers will override this:</p>
<pre><code class="elixir">def record(%Plug.Conn{assigns: %{user_id: user_id}}, id) do
  model()
  |&gt; where([p], p.author_id == ^user_id)
  |&gt; Repo.get(id)
end</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Record.html#c:record/2"><code class="inline">JaResource.Record.record/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="records/1">
  
  
  <div class="detail-header">
    <a href="#records/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">records(conn)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Used to get the base query of records.</p>
<p>Many/most controllers will override this:</p>
<pre><code class="elixir">def records(%Plug.Conn{assigns: %{user_id: user_id}}) do
  model()
  |&gt; where([p], p.author_id == ^user_id)
end</code></pre>
<p>Return value should be %Plug.Conn{} or an %Ecto.Query{}.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Records.html#c:records/1"><code class="inline">JaResource.Records.records/1</code></a>.</p>

  </section>
</div>
<div class="detail" id="render_create/2">
  
  
  <div class="detail-header">
    <a href="#render_create/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">render_create(conn, model)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to successful create.</p>
<p>Default implementation sets the status to <code class="inline">:created</code> and renders the view.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Create.html#c:render_create/2"><code class="inline">JaResource.Create.render_create/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="render_update/2">
  
  
  <div class="detail-header">
    <a href="#render_update/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">render_update(conn, model)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Returns a <a href="https://hexdocs.pm/plug/1.4.3/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> in response to successful update.</p>
<p>Default implementation renders the view.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Update.html#c:render_update/2"><code class="inline">JaResource.Update.render_update/2</code></a>.</p>

  </section>
</div>
<div class="detail" id="repo/0">
  
  
  <div class="detail-header">
    <a href="#repo/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">repo()</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Defines the module <code class="inline">use</code>-ing <a href="https://hexdocs.pm/ecto/2.2.2/Ecto.Repo.html"><code class="inline">Ecto.Repo</code></a> to be used by the controller.</p>
<p>Defaults to the value set in config if present:</p>
<pre><code class="elixir">config :ja_resource,
   repo: MyApp.Repo</code></pre>
<p>Default can be overridden per controller:</p>
<pre><code class="elixir">def repo, do: MyApp.SecondaryRepo</code></pre>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Repo.html#c:repo/0"><code class="inline">JaResource.Repo.repo/0</code></a>.</p>

  </section>
</div>
<div class="detail" id="serialization_opts/3">
  
  
  <div class="detail-header">
    <a href="#serialization_opts/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">serialization_opts(conn, arg2, model_or_models)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L3" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Converts full list of params into serialization opts.</p>
<p>Typically this callback returns the list of fields and includes that were
optionally requested by the stack.</p>
<p>It can also be used to add a meta to the payload,
such as for scrivener pagination, on an index endpoint.</p>
<p>See http://github.com/AgilionApps/ja_serializer for option format.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Serializable.html#c:serialization_opts/3"><code class="inline">JaResource.Serializable.serialization_opts/3</code></a>.</p>

  </section>
</div>
<div class="detail" id="sort/4">
  
  
  <div class="detail-header">
    <a href="#sort/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">sort(conn, results, key, dir)</span>
    
      <a href="https://github.com/code-corps/code-corps-api/doc/blob/master/lib/code_corps_web/controllers/organization_invite_controller.ex#L1" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    <p>Callback executed for each value in the sort param.</p>
<p>Fourth argument is the direction as an atom, either <code class="inline">:asc</code> or <code class="inline">:desc</code> based
upon the presence or not of a <code class="inline">-</code> prefix.</p>
<p>For example if you wanted to sort by date then title your request url might
look like:</p>
<pre><code class="elixir">/api/articles?sort=-created,title</code></pre>
<p>You would then want two callbacks:</p>
<pre><code class="elixir">def sort(_conn, query, &quot;created&quot;, direction) do
  order_by(query, [{direction, :inserted_at}])
end

def sort(_conn, query, &quot;title&quot;, direction) do
  order_by(query, [{direction, :title}])
end</code></pre>
<p>Anything not explicitly matched by your callbacks will be ignored.</p>
<p>Callback implementation for <a href="https://hexdocs.pm/ja_resource/0.3.0/JaResource.Index.html#c:sort/4"><code class="inline">JaResource.Index.sort/4</code></a>.</p>

  </section>
</div>

        </section>
      

      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.16.3),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle"><span class="sr-only">Switch theme</span></button>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-574613960f.js"></script>
  
  </body>
</html>

